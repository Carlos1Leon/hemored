<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Categoria HEMORED Tutores y Promotores -->
    <record id="module_category_hemored_tutores_promotores" model="ir.module.category">
        <field name="name">HEMORED - Tutores y Promotores</field>
        <field name="sequence">302</field>
    </record>

    <record id="group_tutores_hemored" model="res.groups">
        <field name="name">Tutores</field>
        <field name="category_id" ref="module_category_hemored_tutores_promotores"/>
    </record>

    <record id="group_promotores_hemored" model="res.groups">
        <field name="name">Promotores</field>
        <field name="category_id" ref="module_category_hemored_tutores_promotores"/>
    </record>


    <!-- Regal para que la diresa vea los Tutores registrados en su region -->
    <record id="regla_diresa_ve_tutores_registro" model="ir.rule">
        <field name="name">DIRESA - ve tutores</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_tutor"/>
        <field name="domain_force">[('diresa_id','=', user.diresa_id.id)]</field>
        <field name="groups" eval="[(4, ref('hemored.group_coordinador_diris_diresa_hemored'))]"/>
    </record>

    <!-- Regal para que el Tutor vea sus propios registros -->
    <record id="regla_tutor_registro" model="ir.rule">
        <field name="name">Tutor</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_tutor"/>
        <field name="domain_force">[('usuario_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('hemored_tutor_promotor.group_tutores_hemored'))]"/>
    </record>


    <!-- Regal para que la diresa vea los promotores registrados en su region -->
    <record id="regla_diresa_ve_promotores_registro" model="ir.rule">
        <field name="name">DIRESA - ve promotores</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_promotor"/>
        <field name="domain_force">[('diresa_id','=', user.diresa_id.id)]</field>
        <field name="groups" eval="[(4, ref('hemored.group_coordinador_diris_diresa_hemored'))]"/>
    </record>

    <!-- Regal para que el Tutor vea sus promotores -->
    <record id="regla_lista_promotores_registro" model="ir.rule">
        <field name="name">Lista de promotores</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_promotor"/>
        <field name="domain_force">[('tutor_id.usuario_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('hemored_tutor_promotor.group_tutores_hemored'))]"/>
    </record>

    <!-- Regal para que la diresa vea las actividades registradas en su region -->
    <record id="regla_diresa_ve_actividades_registro" model="ir.rule">
        <field name="name">DIRESA - ve actividades</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_actividad"/>
        <field name="domain_force">[('diresa_id','=', user.diresa_id.id)]</field>
        <field name="groups" eval="[(4, ref('hemored.group_coordinador_diris_diresa_hemored'))]"/>
    </record>

    <!-- Regal para que el Tutor vea sus propias actividades -->
    <record id="regla_actividad_tutor_registro" model="ir.rule">
        <field name="name">Actividades Tutor</field>
        <field name="model_id" ref="hemored_tutor_promotor.model_hemored_registro_actividad"/>
        <field name="domain_force">[('tutor_id.usuario_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('hemored_tutor_promotor.group_tutores_hemored'))]"/>
    </record>

</odoo>